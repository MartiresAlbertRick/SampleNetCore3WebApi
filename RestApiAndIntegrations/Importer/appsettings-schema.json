{
    "type": "object",
    "title": "Root schema",
    "description": "The root schema comprises the entire JSON document.",
    "required": [
        "AppSettings",
        "Logging",
        "NLog"
    ],
    "additionalProperties": true,
    "properties": {
        "AppSettings": {
            "type": "object",
            "title": "AppSettings schema",
            "description": "Contains all application configuration",
            "required": [
                "SendGridAPIKey",
                "EmailNotifications",
                "PostPageSizeLimit",
                "CAAPSApiBaseUrl",
                "ClientSettings",
                "ImportTypes"
            ],
            "additionalProperties": true,
            "properties": {
                "SendGridAPIKey": {
                    "type": "string",
                    "title": "SendGridAPIKey schema",
                    "description": "Send Grid API Key used for email notification purposes",
                    "examples": [
                        "123123123"
                    ]
                },
                "EmailNotifications": {
                    "type": "object",
                    "title": "EmailNotifications schema",
                    "description": "List of emails used for email notification purposes",
                    "required": [
                        "Sender",
                        "RecipientList",
                        "CCList",
                        "BCCList"
                    ],
                    "additionalProperties": true,
                    "properties": {
                        "Sender": {
                            "type": "string",
                            "title": "Sender schema",
                            "description": "Sender's email for email notification.",
                            "examples": [
                                "email@domain.com"
                            ]
                        },
                        "RecipientList": {
                            "type": "string",
                            "title": "RecipientList schema",
                            "description": "Recipient list of emails for email notification.",
                            "examples": [
                                "email@domain.com"
                            ]
                        },
                        "CCList": {
                            "type": "string",
                            "title": "CCList schema",
                            "description": "CC list of emails for email notification.",
                            "examples": [
                                "email@domain.com"
                            ]
                        },
                        "BCCList": {
                            "type": "string",
                            "title": "BCCList schema",
                            "description": "BCC list of emails for email notification.",
                            "examples": [
                                "email@domain.com"
                            ]
                        }
                    }
                },
                "PostPageSizeLimit": {
                    "type": "integer",
                    "title": "PostPageSizeLimit schema",
                    "description": "PostPageSizeLimit to set how many number of records to be processed by batch",
                    "default": 0,
                    "examples": [
                        1000
                    ]
                },
                "CAAPSApiBaseUrl": {
                    "type": "string",
                    "title": "CAAPSApiBaseUrl schema",
                    "description": "Base URL of CAAPS API",
                    "examples": [
                        "https://localhost:5001"
                    ]
                },
                "ClientSettings": {
                    "type": "object",
                    "title": "ClientSettings schema",
                    "description": "Client settings contains client configuration id in CAAPS API",
                    "required": [
                        "ClientId",
                        "AddClientIdAsHttpHeader",
                        "ClientIdHttpHeaderName"
                    ],
                    "additionalProperties": true,
                    "properties": {
                        "ClientId": {
                            "type": "string",
                            "title": "ClientId schema",
                            "description": "Client configuration id being set by CAAPS API",
                            "default": "",
                            "examples": [
                                "CAAPS",
                                "THINK",
                                "PRONTO"
                            ]
                        },
                        "AddClientIdAsHttpHeader": {
                            "type": "boolean",
                            "title": "AddClientIdAsHttpHeader schema",
                            "description": "This enables cliend id to be passed through HTTP request header",
                            "default": false,
                            "enum": [
                                true,
                                false
                            ],
                            "examples": [
                                true
                            ]
                        },
                        "ClientIdHttpHeaderName": {
                            "type": "string",
                            "title": "ClientIdHttpHeaderName schema",
                            "description": "Request header key oc client id",
                            "default": "x-client-id",
                            "examples": [
                                "x-client-id"
                            ]
                        }
                    }
                },
                "ImportTypes": {
                    "type": "object",
                    "title": "The ImportTypes schema",
                    "description": "This is to configure import types allowable for CSV import",
                    "required": [
                        "ImportType"
                    ],
                    "additionalProperties": true,
                    "properties": {
                        "ImportType": {
                            "type": "object",
                            "title": "ImportType schema",
                            "description": "This contains configuration for ImportType",
                            "required": [
                                "TableMappingName",
                                "Route",
                                "DefaultImportFilePath",
                                "DefaultImportFileName",
                                "FileNameIsRegex",
                                "MatchCurrentDateAndFileNameDate",
                                "MatchCurrentDateAndFileCreationDate",
                                "FileNameDateTimePattern",
                                "GetTopOneFileByCreationDate",
                                "ActionAfterImport",
                                "TargetFolderAfterImport",
                                "Culture",
                                "ClearTargetTableSetting",
                                "CaapsApiModelDbFieldsMapping"
                            ],
                            "additionalProperties": true,
                            "properties": {
                                "TableMappingName": {
                                    "type": "string",
                                    "title": "TableMappingName schema",
                                    "description": "TableMappingName from DvDataImportConfiguration.",
                                    "examples": [
                                        "CAAPS_Vendors",
                                        "CAAPS_PurchaseOrders",
                                        "CAAPS_Payments"
                                    ]
                                },
                                "Route": {
                                    "type": "string",
                                    "title": "Route schema",
                                    "description": "CAAPS API endpoint route.",
                                    "examples": [
                                        "api/vendors/bulk",
                                        "api/purchase-orders/bulk",
                                        "api/goods-receipts/bulk"
                                    ]
                                },
                                "DefaultImportFilePath": {
                                    "type": "string",
                                    "title": "DefaultImportFilePath schema",
                                    "description": "Default source of file path.",
                                    "examples": [
                                        "D:\\"
                                    ]
                                },
                                "DefaultImportFileName": {
                                    "type": "string",
                                    "title": "DefaultImportFileName schema",
                                    "description": "Default import file name, can be a regex or a static file name.",
                                    "default": "(?i)VendorDetails_([0-9]{8}-[0-9]{4}).*\\.csv",
                                    "examples": [
                                        "(?i)VendorDetails_([0-9]{8}-[0-9]{4}).*\\.csv",
                                        "VendorDetails.csv"
                                    ]
                                },
                                "FileNameIsRegex": {
                                    "type": "boolean",
                                    "title": "FileNameIsRegex schema",
                                    "description": "Whether the DefaultImportFileName is a regex.",
                                    "default": false,
                                    "enum": [
                                        true,
                                        false
                                    ],
                                    "examples": [
                                        true
                                    ]
                                },
                                "MatchCurrentDateAndFileNameDate": {
                                    "type": "boolean",
                                    "title": "MatchCurrentDateAndFileNameDate schema",
                                    "description": "This should be configured if the program will match files using current date against embedded datetime stamp in the filename.",
                                    "default": false,
                                    "enum": [
                                        true,
                                        false
                                    ],
                                    "examples": [
                                        false
                                    ]
                                },
                                "MatchCurrentDateAndFileCreationDate": {
                                    "type": "boolean",
                                    "title": "MatchCurrentDateAndFileCreationDate schema",
                                    "description": "This should be configured if the program will match files using current date against file creation datetime.",
                                    "default": false,
                                    "enum": [
                                        true,
                                        false
                                    ],
                                    "examples": [
                                        false
                                    ]
                                },
                                "FileNameDateTimePattern": {
                                    "type": "string",
                                    "title": "FileNameDateTimePattern schema",
                                    "description": "Datetime pattern of embedded datetime stamp in the filename.",
                                    "default": "yyyyMMdd-hhmm",
                                    "examples": [
                                        "yyyyMMdd-hhmm"
                                    ]
                                },
                                "GetTopOneFileByCreationDate": {
                                    "type": "boolean",
                                    "title": "GetTopOneFileByCreationDate schema",
                                    "description": "This allows the program to get only the top one matching file.",
                                    "default": false,
                                    "enum": [
                                        true,
                                        false
                                    ],
                                    "examples": [
                                        false
                                    ]
                                },
                                "ActionAfterImport": {
                                    "type": "string",
                                    "title": "ActionAfterImport schema",
                                    "description": "This configuration is to provide program an instruction what to do post-import.",
                                    "default": "None",
                                    "enum": [
                                        "None",
                                        "Delete",
                                        "Move"
                                    ],
                                    "examples": [
                                        "None"
                                    ]
                                },
                                "TargetFolderAfterImport": {
                                    "type": "string",
                                    "title": "TargetFolderAfterImport schema",
                                    "description": "Destination folder if the the ActionAfterImport is set to \"Move\"",
                                    "default": "D:\\",
                                    "examples": [
                                        "D:\\"
                                    ]
                                },
                                "Culture": {
                                    "type": "string",
                                    "title": "Culture schema",
                                    "description": "Culture info.",
                                    "default": "en-AU",
                                    "examples": [
                                        "en-AU"
                                    ]
                                },
                                "ClearTargetTableSetting": {
                                    "type": "string",
                                    "title": "The ClearTargetTableSetting schema",
                                    "description": "Set this configuration to setup truncate/delete.",
                                    "default": "None",
                                    "enum": [
                                        "None",
                                        "Truncate",
                                        "Delete"
                                    ],
                                    "examples": [
                                        "None"
                                    ]
                                },
                                "CaapsApiModelDbFieldsMapping": {
                                    "type": "object",
                                    "title": "CaapsApiModelDbFieldsMapping schema",
                                    "description": "Field mapping between CSV and CAAPS Model.",
                                    "examples": [
                                        {
                                            "EntityCode": "ENTITY_CODE",
                                            "VendorName": "VENDOR_NAME",
                                            "VendorCode": "VENDOR_CODE"
                                        }
                                    ],
                                    "required": [
                                        "CaapsModelFieldName"
                                    ],
                                    "additionalProperties": true,
                                    "properties": {
                                        "CaapsModelFieldName": {
                                            "type": "string",
                                            "title": "CaapsModelFieldName schema",
                                            "description": "Caaps Model Field Name",
                                            "default": "CaapsDatabaseColumnName",
                                            "examples": [
                                                "CaapsDatabaseColumnName"
                                            ]
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "Logging": {
            "type": "object",
            "title": "The Logging schema",
            "description": "Configuration for logging capabilities of the program",
            "default": {},
            "examples": [
                {
                    "NLog": {
                        "IncludeScopes": false,
                        "ParseMessageTemplates": true,
                        "CaptureMessageProperties": true
                    }
                }
            ],
            "required": [
                "NLog"
            ],
            "additionalProperties": true,
            "properties": {
                "NLog": {
                    "type": "object",
                    "title": "The NLog schema",
                    "description": "Schema for NLog configurations",
                    "default": {},
                    "examples": [
                        {
                            "IncludeScopes": false,
                            "ParseMessageTemplates": true,
                            "CaptureMessageProperties": true
                        }
                    ],
                    "required": [
                        "IncludeScopes",
                        "ParseMessageTemplates",
                        "CaptureMessageProperties"
                    ],
                    "additionalProperties": true,
                    "properties": {
                        "IncludeScopes": {
                            "type": "boolean",
                            "title": "The IncludeScopes schema",
                            "description": "Include scopes configuration.",
                            "default": false,
                            "examples": [
                                false
                            ]
                        },
                        "ParseMessageTemplates": {
                            "type": "boolean",
                            "title": "The ParseMessageTemplates schema",
                            "description": "Parse message templates configuration.",
                            "default": false,
                            "examples": [
                                true
                            ]
                        },
                        "CaptureMessageProperties": {
                            "type": "boolean",
                            "title": "The CaptureMessageProperties schema",
                            "description": "Capture message properties configuration.",
                            "default": false,
                            "examples": [
                                true
                            ]
                        }
                    }
                }
            }
        },
        "NLog": {
            "type": "object",
            "title": "The NLog schema",
            "description": "Schema for nlog configurations",
            "default": {},
            "required": [
                "autoreload",
                "internalLogLevel",
                "internalLogFile",
                "throwConfigExceptions",
                "targets",
                "rules"
            ],
            "additionalProperties": true,
            "properties": {
                "autoreload": {
                    "type": "boolean",
                    "title": "The autoreload schema",
                    "description": "Autoreload configuration",
                    "default": false,
                    "enum": [
                      true, 
                      false
                    ]
                },
                "internalLogLevel": {
                    "type": "string",
                    "title": "The internalLogLevel schema",
                    "description": "Internal Log Level configuration.",
                    "default": "",
                    "examples": [
                        "Info"
                    ]
                },
                "internalLogFile": {
                    "type": "string",
                    "title": "The internalLogFile schema",
                    "description": "Internal Log File configuration.",
                    "default": "",
                    "examples": [
                        "App_Data/Logs/console-example-internal.log"
                    ]
                },
                "throwConfigExceptions": {
                    "type": "boolean",
                    "title": "The throwConfigExceptions schema",
                    "description": "Throw config exceptions.",
                    "default": false,
                    "enum": [
                      true,
                      false
                    ]
                },
                "targets": {
                    "type": "object",
                    "title": "The targets schema",
                    "description": "Targets schema",
                    "default": {},
                    "required": [
                        "console",
                        "file"
                    ],
                    "additionalProperties": true,
                    "properties": {
                        "console": {
                            "type": "object",
                            "title": "The console schema",
                            "description": "Console configuration.",
                            "default": {},
                            "required": [
                                "type",
                                "layout"
                            ],
                            "additionalProperties": true,
                            "properties": {
                                "type": {
                                    "type": "string",
                                    "title": "The type schema",
                                    "description": "Console type.",
                                    "default": "",
                                    "examples": [
                                        "ColoredConsole"
                                    ]
                                },
                                "layout": {
                                    "type": "string",
                                    "title": "The layout schema",
                                    "description": "Layout type.",
                                    "default": "",
                                    "examples": [
                                        "${date}|${level:uppercase=true}|${message} ${exception:format=tostring}|${logger}|${all-event-properties}"
                                    ]
                                }
                            }
                        },
                        "file": {
                            "type": "object",
                            "title": "The file schema",
                            "description": "Log file configurations.",
                            "default": {},
                            "required": [
                                "type",
                                "target"
                            ],
                            "additionalProperties": true,
                            "properties": {
                                "type": {
                                    "type": "string",
                                    "title": "The type schema",
                                    "description": "Log file type.",
                                    "default": "",
                                    "examples": [
                                        "AsyncWrapper"
                                    ]
                                },
                                "target": {
                                    "type": "object",
                                    "title": "The target schema",
                                    "description": "Target schema",
                                    "default": {},
                                    "required": [
                                        "wrappedFile"
                                    ],
                                    "additionalProperties": true,
                                    "properties": {
                                        "wrappedFile": {
                                            "type": "object",
                                            "title": "The wrappedFile schema",
                                            "description": "Wrapped file configuration.",
                                            "default": {},
                                            "required": [
                                                "type",
                                                "fileName",
                                                "layout"
                                            ],
                                            "additionalProperties": true,
                                            "properties": {
                                                "type": {
                                                    "type": "string",
                                                    "title": "The type schema",
                                                    "description": "File type.",
                                                    "default": "",
                                                    "examples": [
                                                        "File"
                                                    ]
                                                },
                                                "fileName": {
                                                    "type": "string",
                                                    "title": "The fileName schema",
                                                    "description": "File name.",
                                                    "default": "",
                                                    "examples": [
                                                        "App_Data/Logs/console-example.log"
                                                    ]
                                                },
                                                "layout": {
                                                    "type": "object",
                                                    "title": "The layout schema",
                                                    "description": "File content layout.",
                                                    "default": {},
                                                    "required": [
                                                        "type",
                                                        "Attributes"
                                                    ],
                                                    "additionalProperties": true,
                                                    "properties": {
                                                        "type": {
                                                            "type": "string",
                                                            "title": "The type schema",
                                                            "description": "Layout type",
                                                            "default": "",
                                                            "examples": [
                                                                "JsonLayout"
                                                            ]
                                                        },
                                                        "Attributes": {
                                                            "type": "array",
                                                            "title": "The Attributes schema",
                                                            "description": "Layout attributes",
                                                            "default": [],
                                                            "additionalItems": true,
                                                            "items": {
                                                                "anyOf": [
                                                                    {
                                                                        "type": "object",
                                                                        "title": "The first anyOf schema",
                                                                        "description": "The first anyOf schema.",
                                                                        "default": {},
                                                                        "examples": [
                                                                            {
                                                                                "name": "timestamp",
                                                                                "layout": "${date:format=o}"
                                                                            }
                                                                        ],
                                                                        "required": [
                                                                            "name",
                                                                            "layout"
                                                                        ],
                                                                        "additionalProperties": true,
                                                                        "properties": {
                                                                            "name": {
                                                                                "type": "string",
                                                                                "title": "The name schema",
                                                                                "description": "First anyOf name.",
                                                                                "default": "",
                                                                                "examples": [
                                                                                    "timestamp"
                                                                                ]
                                                                            },
                                                                            "layout": {
                                                                                "type": "string",
                                                                                "title": "The layout schema",
                                                                                "description": "First anyOf layout.",
                                                                                "default": "",
                                                                                "examples": [
                                                                                    "${date:format=o}"
                                                                                ]
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "type": "object",
                                                                        "title": "The second anyOf schema",
                                                                        "description": "Second anyOf.",
                                                                        "default": {},
                                                                        "required": [
                                                                            "name",
                                                                            "encode",
                                                                            "layout"
                                                                        ],
                                                                        "additionalProperties": true,
                                                                        "properties": {
                                                                            "name": {
                                                                                "type": "string",
                                                                                "title": "The name schema",
                                                                                "description": "Second anyOf name.",
                                                                                "default": "",
                                                                                "examples": [
                                                                                    "properties"
                                                                                ]
                                                                            },
                                                                            "encode": {
                                                                                "type": "boolean",
                                                                                "title": "The encode schema",
                                                                                "description": "Second anyof encode.",
                                                                                "default": false,
                                                                                "examples": [
                                                                                    false
                                                                                ]
                                                                            },
                                                                            "layout": {
                                                                                "type": "object",
                                                                                "title": "The layout schema",
                                                                                "description": "Second anyOf layout.",
                                                                                "default": {},
                                                                                "required": [
                                                                                    "type",
                                                                                    "includeallproperties"
                                                                                ],
                                                                                "additionalProperties": true,
                                                                                "properties": {
                                                                                    "type": {
                                                                                        "type": "string",
                                                                                        "title": "The type schema",
                                                                                        "description": "Second anyOf layout type.",
                                                                                        "default": "",
                                                                                        "examples": [
                                                                                            "JsonLayout"
                                                                                        ]
                                                                                    },
                                                                                    "includeallproperties": {
                                                                                        "type": "string",
                                                                                        "title": "The includeallproperties schema",
                                                                                        "description": "Second anyOf layout includeallproperties.",
                                                                                        "default": "",
                                                                                        "examples": [
                                                                                            "true"
                                                                                        ]
                                                                                    }
                                                                                }
                                                                            }
                                                                        }
                                                                    }
                                                                ]
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
                "rules": {
                    "type": "array",
                    "title": "The rules schema",
                    "description": "NLog rules.",
                    "default": [],
                    "additionalItems": true,
                    "items": {
                        "anyOf": [
                            {
                                "type": "object",
                                "title": "The first anyOf schema",
                                "description": "Rules first anyOf.",
                                "default": {},
                                "examples": [
                                    {
                                        "logger": "*",
                                        "minLevel": "Trace",
                                        "writeTo": "File,Console"
                                    }
                                ],
                                "required": [
                                    "logger",
                                    "minLevel",
                                    "writeTo"
                                ],
                                "additionalProperties": true,
                                "properties": {
                                    "logger": {
                                        "type": "string",
                                        "title": "The logger schema",
                                        "description": "First anyOf logger.",
                                        "default": "",
                                        "examples": [
                                            "*"
                                        ]
                                    },
                                    "minLevel": {
                                        "type": "string",
                                        "title": "The minLevel schema",
                                        "description": "First anyOf minLevel.",
                                        "default": "",
                                        "examples": [
                                            "Trace"
                                        ]
                                    },
                                    "writeTo": {
                                        "type": "string",
                                        "title": "The writeTo schema",
                                        "description": "First anyOf writeTo.",
                                        "default": "",
                                        "examples": [
                                            "File,Console"
                                        ]
                                    }
                                }
                            }
                        ]
                    }
                }
            }
        }
    }
}